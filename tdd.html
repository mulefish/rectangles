<!DOCTYPE html>
<meta charset="utf-8">
<html>

<body>
<script>
    // let data = [{"id":0,"x":397.325863714925,"y":289.3064471837431,"width":265.04077446866876,"height":157.42689021860065,"x2":397.325863714925,"y2":289.3064471837431,"width2":106.23724699872507,"height2":75.40303155579356},{"id":1,"x":771.990689877467,"y":185.81302606981112,"width":121.83063630676082,"height":37.1594970733531,"x2":619.990689877467,"y2":87.81301844041658,"width2":121.83063630676082,"height2":37.1594970733531},{"id":2,"x":109.94862797023686,"y":324.9400673674784,"width":53.86475208853567,"height":62.21567001967418,"x2":68.94862797023686,"y2":395.9400673674784,"width2":53.86475208853567,"height2":62.21567001967418},{"id":3,"x":117.45279557376531,"y":190.02707827254102,"width":53.22282715953401,"height":60.146081552364265,"x2":117.45279557376531,"y2":202.02707827254102,"width2":53.22282715953401,"height2":60.146081552364265},{"id":4,"x":287.59357010277967,"y":167.56555973012289,"width":41.68229753755175,"height":44.577877420908536,"x2":287.59357010277967,"y2":167.56555973012289,"width2":41.68229753755175,"height2":44.577877420908536},{"id":5,"x":118.76914833880426,"y":82.56212047405415,"width":53.29777543321499,"height":81.65259010043911,"x2":114.76914833880426,"y2":118.56212047405415,"width2":53.29777543321499,"height2":81.65259010043911},{"id":6,"x":537.4588713497235,"y":66.28740544645568,"width":122.26128872309005,"height":113.1848991043268,"x2":511.4588713497235,"y2":86.28741307585021,"width2":122.26128872309005,"height2":113.1848991043268},{"id":7,"x":113.33370167033755,"y":265.3141507500985,"width":92.84839378844077,"height":56.19711780292057,"x2":128.33370167033755,"y2":288.3141507500985,"width2":92.84839378844077,"height2":56.19711780292057},{"id":8,"x":621.3216668079388,"y":351.87412749097143,"width":91.89003304690286,"height":87.91644021808044,"x2":372.3216973255168,"y2":291.87412749097143,"width2":91.89003304690286,"height2":87.91644021808044},{"id":9,"x":417.5199375050393,"y":434.8589364975349,"width":78.84535199197134,"height":24.574238559307688,"x2":335.5199375050393,"y2":397.8589364975349,"width2":78.84535199197134,"height2":24.574238559307688}]
    // 0 and 1 overlap and 2 does not 
//let data = [{"id":0,"x":704,"y":112,"width":106,"height":75,"x2":328,"y2":227,"width2":106,"height2":75},{"id":1,"x":619,"y":87,"width":121,"height":37,"x2":619,"y2":87,"width2":121,"height2":37}]    //    let boxes = [{"id":0,"x":397.325863714925,"y":289.3064471837431,"width":265.04077446866876,"height":157.42689021860065,"x2":397.325863714925,"y2":289.3064471837431,"width2":106.23724699872507,"height2":75.40303155579356},{"id":1,"x":771.990689877467,"y":185.81302606981112,"width":121.83063630676082,"height":37.1594970733531,"x2":619.990689877467,"y2":87.81301844041658,"width2":121.83063630676082,"height2":37.1594970733531},{"id":2,"x":109.94862797023686,"y":324.9400673674784,"width":53.86475208853567,"height":62.21567001967418,"x2":68.94862797023686,"y2":395.9400673674784,"width2":53.86475208853567,"height2":62.21567001967418},{"id":3,"x":117.45279557376531,"y":190.02707827254102,"width":53.22282715953401,"height":60.146081552364265,"x2":117.45279557376531,"y2":202.02707827254102,"width2":53.22282715953401,"height2":60.146081552364265},{"id":4,"x":287.59357010277967,"y":167.56555973012289,"width":41.68229753755175,"height":44.577877420908536,"x2":287.59357010277967,"y2":167.56555973012289,"width2":41.68229753755175,"height2":44.577877420908536},{"id":5,"x":118.76914833880426,"y":82.56212047405415,"width":53.29777543321499,"height":81.65259010043911,"x2":114.76914833880426,"y2":118.56212047405415,"width2":53.29777543321499,"height2":81.65259010043911},{"id":6,"x":537.4588713497235,"y":66.28740544645568,"width":122.26128872309005,"height":113.1848991043268,"x2":511.4588713497235,"y2":86.28741307585021,"width2":122.26128872309005,"height2":113.1848991043268},{"id":7,"x":113.33370167033755,"y":265.3141507500985,"width":92.84839378844077,"height":56.19711780292057,"x2":128.33370167033755,"y2":288.3141507500985,"width2":92.84839378844077,"height2":56.19711780292057},{"id":8,"x":760.3216668079388,"y":350.87412749097143,"width":91.89003304690286,"height":87.91644021808044,"x2":621.3216668079388,"y2":351.87412749097143,"width2":91.89003304690286,"height2":87.91644021808044},{"id":9,"x":417.5199375050393,"y":434.8589364975349,"width":78.84535199197134,"height":24.574238559307688,"x2":335.5199375050393,"y2":397.8589364975349,"width2":78.84535199197134,"height2":24.574238559307688}]
let data = [{"id":0,"x":633.3258331973468,"y":160.30644718374307,"width":106.23724699872507,"height":75.40303155579356,"x2":704.3258331973468,"y2":112.30644718374307,"width2":106.23724699872507,"height2":75.40303155579356},{"id":1,"x":656.990689877467,"y":90.81301844041658,"width":121.83063630676082,"height":37.1594970733531,"x2":619.990689877467,"y2":87.81301844041658,"width2":121.83063630676082,"height2":37.1594970733531},{"id":2,"x":326.7209571657994,"y":154.57777920595242,"width":41.96818796495428,"height":92.84707367149363,"x2":326.7209571657994,"y2":154.57777920595242,"width2":41.96818796495428,"height2":92.84707367149363},{"id":3,"x":101.28184520243829,"y":180.56457342585082,"width":84.56657381188732,"height":113.52951426043519,"x2":193.2818452024383,"y2":58.564565796456286,"width2":84.56657381188732,"height2":113.52951426043519},{"id":4,"x":467.91317751042413,"y":217.75895296189606,"width":112.81108282753365,"height":72.23657001047854,"x2":467.91317751042413,"y2":217.75895296189606,"width2":112.81108282753365,"height2":72.23657001047854},{"id":5,"x":420.54998164796507,"y":63.92374821086103,"width":70.97762941186608,"height":24.02004897913536,"x2":420.54998164796507,"y2":63.92374821086103,"width2":70.97762941186608,"height2":24.02004897913536},{"id":6,"x":536.0528845245406,"y":21.93168286176701,"width":75.54313574420058,"height":102.90381439280861,"x2":536.0528845245406,"y2":21.93168286176701,"width2":75.54313574420058,"height2":102.90381439280861},{"id":7,"x":648.2850210755485,"y":15.969514899225507,"width":127.64020831378737,"height":33.055699580766,"x2":648.2850210755485,"y2":15.969514899225507,"width2":127.64020831378737,"height2":33.055699580766},{"id":8,"x":694.5379251851995,"y":271.3744206399334,"width":65.65521530875549,"height":110.43808332823636,"x2":531.5379251851995,"y2":26.374413010538884,"width2":65.65521530875549,"height2":110.43808332823636},{"id":9,"x":54.33651708274316,"y":188.24485774147163,"width":57.75377837055188,"height":83.53724385702012,"x2":54.33651708274316,"y2":188.24485774147163,"width2":57.75377837055188,"height2":83.53724385702012},{"id":10,"x":229.30357253939277,"y":306.7485809796018,"width":70.87969307710647,"height":87.47765830566212,"x2":229.30357253939277,"y2":306.7485809796018,"width2":70.87969307710647,"height2":87.47765830566212},{"id":11,"x":801.2427400274739,"y":198.1960602457992,"width":126.47817739694443,"height":53.992353191453425,"x2":591.2427400274739,"y2":145.1960602457992,"width2":126.47817739694443,"height2":53.992353191453425},{"id":12,"x":489.14486926099187,"y":329.09360079620814,"width":50.33343935959874,"height":99.62955151970627,"x2":547.1448387434137,"y2":296.09360079620814,"width2":50.33343935959874,"height2":99.62955151970627}]
</script>

Check the console for output. <p></p>
<button onClick='overlapTest()'>overlapTest()</button>

<script>
const WIDTH = 1001
const HEIGHT = 702 

function pretty(d) {
    let out = ""
    out += 'id: ' + d.id
    out += ' x: ' + d.x.toFixed(0)
    out += ' y: ' + d.y.toFixed(0)
    out += ' w: ' + (d.x + d.width).toFixed(0)
    out += ' h: ' + (d.y + d.height).toFixed(0)
    return out
}


class MyRect {
    constructor(box) {
        this.id = box.id
        this.x = box.x
        this.y = box.y
        this.w = box.width
        this.h = box.height
        this.x2 = box.x + box.width
        this.y2 = box.y + box.height
    }

    contains(x, y) {
        return this.x <= x && x <= this.x2 && this.y <= y && y <= this.y2
    }

    // contains(x, y) {
    //     return this.x <= x && x <= this.x + this.w &&
    //         this.y <= y && y <= this.y + this.h
    // }
}
function prettyRect(r) {
    return  r.id + ' x: ' + r.x.toFixed(0) + ' x2: ' + r.x2.toFixed(0) + ' y: ' + r.y.toFixed(0) + ' y2: ' + r.y2.toFixed(0) + ' |'
}

function isHigher(y1, y2) {
    return y1 < y2 
}
function isLower(y1, y2) {
    return y1 > y2 
}


function snapLogic_test() {

    const d = data[0]

    const y1 = d.y
    const x1 = d.x
    const y2 = d.y + d.height
    const x2 = d.x + d.width
    data.forEach((box, i ) => {
        let n = false 
        let s = false
        let e = false
        let w = false 
    
        if ( box.id !== d.id ) {
            const _y1 = box.y
            const _x1 = box.x
            const _y2 = box.y + box.height
            const _x2 = box.x + box.width
            
            // RIGHT 
            if ( x1 > _x1 && x1 < _x2 ) {
                w = true 
            } 
            // LEFT
            if ( x1 < _x1 && x2 < _x2 && x2 > x1  ) {
                e = true 
            } 
            // ABOVE 
            if ( isHigher(y1,_y1) && isHigher(y2, _y2 ) && isLower(y2, _y1) && isHigher(y2, _y2)) {
                n = true 
            } 
            // BELOW 
            if ( isLower(y1,_y1) && isHigher(y1, _y2 ) && isLower(y2, _y2))  {
                s = true 
            }

            if ( w === true && n === true ) {
                d.height = box.y - d.y

            }
            if ( w === true && s === true ) {
                const num = box.y + box.height
                const delta = d.y - num
                d.y = num
                d.height += delta
            }
            if ( e === true && n === true ) {
                d.height = box.y - d.y
            }

            if ( e === true && s === true ) {
                const num = box.y + box.height
                const delta = d.y - num
                d.y = num
                d.height += delta
            }
            console.log( 'n ', n + ' s ', s , ' e ' , e , ' w ' , w )
        }
    })
}
snapLogic_test()
</script>

</body>
</html>
